# Cursor Rules для проекта ООО "Иерихон" (iyerikhon.ru)

## Общие принципы разработки

### Архитектура проекта
- **Frontend**: Next.js 14 с App Router, SSR/SSG для SEO
- **UI Framework**: Tailwind CSS + Shadcn UI компоненты
- **Backend/CMS**: Strapi (headless CMS)
- **Deployment**: Vercel с CI/CD через GitHub Actions
- **Analytics**: Яндекс.Метрика + Google Analytics (GTM)
- **Chat**: JivoSite с интеграцией WhatsApp/Telegram

### Структура проекта
```
iyerikhon-website/
├── src/
│   ├── app/                    # Next.js App Router
│   │   ├── (routes)/          # Группировка маршрутов
│   │   │   ├── services/      # Услуги
│   │   │   ├── projects/      # Проекты домов
│   │   │   ├── mortgage/      # Ипотека ВТБ
│   │   │   ├── portfolio/     # Портфолио
│   │   │   ├── about/         # О компании
│   │   │   ├── partners/      # Партнеры и аккредитации
│   │   │   ├── documents/     # Документы
│   │   │   ├── contacts/      # Контакты
│   │   │   └── news/          # Блог/Новости
│   │   ├── globals.css        # Глобальные стили
│   │   ├── layout.tsx         # Root layout
│   │   └── page.tsx           # Главная страница
│   ├── components/
│   │   ├── sections/          # Секции страниц
│   │   ├── ui/                # Shadcn UI компоненты
│   │   ├── forms/             # Формы (заявки, калькулятор)
│   │   └── layout/            # Хедер, футер, навигация
│   ├── lib/                   # Утилиты и хелперы
│   ├── hooks/                 # React хуки
│   └── types/                 # TypeScript типы
```

## Правила кодирования

### TypeScript
- Всегда использовать TypeScript для всех файлов
- Создавать интерфейсы для всех props и данных
- Использовать строгую типизацию (strict mode)
- Экспортировать типы из отдельных файлов в `src/types/`

### React/Next.js
- Использовать функциональные компоненты с хуками
- Применять Server Components где возможно для SEO
- Использовать Client Components только при необходимости ("use client")
- Следовать принципам composition over inheritance
- Именовать компоненты в PascalCase
- Использовать React.memo для оптимизации производительности

### Стилизация (Tailwind CSS)
- Mobile-first подход (начинать с мобильных стилей)
- Использовать кастомные breakpoints:
  - `mobile: 300px` - минимальная поддержка
  - `xs: 320px` - очень маленькие телефоны
  - `mobile-lg: 475px` - большие мобильные
  - `sm: 640px` - планшеты
  - `md: 768px` - большие планшеты
  - `lg: 1024px` - десктопы
  - `xl: 1280px` - большие десктопы
- Создавать переиспользуемые компоненты через Shadcn UI
- Использовать CSS переменные для цветовой схемы
- Применять семантические классы для читаемости

### Цветовая палитра (брендинг)
```css
:root {
  --primary: #1e40af;        /* Синий ВТБ */
  --primary-foreground: #f8fafc;
  --secondary: #f1f5f9;      /* Светло-серый */
  --accent: #3b82f6;         /* Акцентный синий */
  --muted: #64748b;          /* Серый для текста */
  --background: #ffffff;      /* Белый фон */
  --foreground: #0f172a;     /* Темный текст */
}
```

## Компоненты и секции

### Главная страница
1. **HeroSection**: Слайдер (4 слайда) + заголовок + CTA кнопки
2. **KeyMetrics**: Анимированные счетчики при скролле
3. **Advantages**: Преимущества компании (4-6 карточек)
4. **NewsSection**: 3-4 карточки новостей

### Обязательные компоненты
- **Slider**: Использовать Swiper.js для всех слайдеров
- **Calculator**: React Hook Form + math.js для калькулятора ипотеки
- **Forms**: Валидация через React Hook Form + Zod
- **Modal**: Для просмотра документов и изображений
- **Breadcrumbs**: На всех внутренних страницах
- **LoadingStates**: Skeleton компоненты для загрузки

## Контент и данные

### Ключевые цифры для счетчиков
- 10 частных домов построено
- 10 школ (капремонт >18 000 м²)
- 5 754 м² территорий благоустроено  
- 5 объектов для Сбербанка (2 021 м²)

### Услуги компании
1. Строительство частных домов под ключ
2. Капитальный ремонт зданий (госзаказы)
3. Внутренняя отделка многоквартирных домов
4. Благоустройство территорий
5. Дорожные работы
6. Поставка строительных материалов

### Партнеры (логотипы)
- ПАО Сбербанк
- Банк ВТБ (ПАО)
- АО ЦЕМРОС
- АО «Сталепромышленная компания»
- АО «Себряковцемент»
- ООО «МЕТАЛЛСЕРВИС-Москва»
- ООО «СТАВСТАЛЬ»
- АО «ЧЕЧЕНЦЕМЕНТ»
- ОАО «Российские железные дороги»
- ООО «БСК СТРОЙ»

## SEO и производительность

### Метаданные
- Уникальные title и description для каждой страницы
- Open Graph теги для социальных сетей
- Структурированные данные (JSON-LD) для бизнеса
- Alt теги для всех изображений
- Правильная иерархия заголовков (H1-H6)

### Производительность
- Lighthouse score 90+
- Оптимизация изображений (WebP + fallback)
- Ленивая загрузка (lazy loading) для изображений
- Минификация CSS/JS
- Кеширование статических ресурсов
- Использование Next.js Image компонента

### Доступность (A11y)
- Семантическая HTML разметка
- ARIA атрибуты где необходимо
- Keyboard navigation support
- Screen reader friendly
- Цветовая контрастность WCAG 2.1 AA
- Focus indicators для интерактивных элементов

## Адаптивность и UX

### Breakpoints стратегия
- Минимальная поддержка от 300px
- Touch-friendly интерфейс (минимум 44px для кнопок)
- Оптимизация для мобильных устройств
- Тестирование на реальных устройствах

### UX принципы
- Время загрузки страницы < 3 сек
- Интуитивная навигация
- Четкие CTA кнопки
- Прогрессивное раскрытие информации
- Обратная связь для пользовательских действий

## Интеграции

### Обязательные интеграции
1. **Яндекс.Метрика**: Отслеживание поведения пользователей
2. **Google Analytics (GTM)**: Расширенная аналитика
3. **JivoSite**: Чат с клиентами + мессенджеры
4. **Яндекс.Карты**: Интерактивная карта в контактах

### API и данные
- Strapi CMS для управления контентом
- REST API для получения данных
- Кеширование через Next.js (ISR)
- Обработка ошибок и fallback состояний

## Формы и взаимодействие

### Типы форм
1. **Заявка на расчет**: Имя, телефон, email, тип проекта
2. **Калькулятор ипотеки**: Стоимость дома, первоначальный взнос, срок
3. **Обратная связь**: Имя, телефон, сообщение
4. **Подписка на новости**: Email

### Валидация
- Клиентская валидация через React Hook Form + Zod
- Серверная валидация для безопасности
- Пользовательские сообщения об ошибках на русском языке
- Согласие на обработку персональных данных

## Безопасность

### Общие правила
- Валидация всех пользовательских данных
- Санитизация HTML контента
- HTTPS для всех соединений
- Защита от XSS и CSRF атак
- Ограничение файлов для загрузки (только изображения/PDF)

## Тестирование

### Обязательные тесты
- Кроссбраузерная совместимость (Chrome, Firefox, Safari, Edge)
- Мобильное тестирование (iOS/Android)
- Lighthouse аудит производительности
- Тестирование форм и интерактивных элементов
- SEO проверка через Google Search Console

## Деплой и DevOps

### Процесс деплоя
1. Development: локальная разработка
2. Staging: тестовая среда на Vercel
3. Production: продакшн деплой через GitHub Actions
4. Мониторинг: отслеживание ошибок и производительности

### Git workflow
- Feature branches для новых функций
- Pull requests с обязательным code review
- Semantic commit messages
- Автоматические проверки через GitHub Actions

## Контактная информация

### Данные компании
- **Название**: ООО «Иерихон»
- **Телефон**: +7 938 888 88 59
- **Email**: iyerikhon89@mail.ru
- **Слоган**: "От аккредитованного застройщика ВТБ до подрядчика Сбербанка: строим и благоустраиваем с высоким качеством и надежностью"

## Дополнительные требования

### Будущие фичи (планируются)
- ИИ-чатбот для вопросов по ипотеке/проектам
- 3D-визуализации проектов домов
- Виртуальные туры по объектам
- Онлайн-конструктор домов
- Интеграция с CRM системой

### Поддержка браузеров
- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+
- Мобильные браузеры: iOS Safari 14+, Chrome Mobile 88+

---

**Важно**: Всегда следовать этим правилам при разработке. При сомнениях обращаться к ТЗ и данному файлу. Код должен быть чистым, производительным и соответствовать современным стандартам веб-разработки.
